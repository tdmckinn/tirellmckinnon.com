"use strict";function makeMap(t,e){const n=Object.create(null),a=t.split(",");for(let t=0;t<a.length;t++)n[a[t]]=!0;return e?t=>n[t.toLowerCase()]:t=>n[t]}function decodeAttr(t,e){const n=e?encodedAttrWithNewLines:encodedAttr;return t.replace(n,t=>decodingMap[t])}function parseHTML(t,e){function n(e){d+=e,t=t.substring(e)}function a(t,n,a){let o,s;if(null==n&&(n=d),null==a&&(a=d),t&&(s=t.toLowerCase()),t)for(o=r.length-1;o>=0&&r[o].lowerCasedTag!==s;o--);else o=0;if(o>=0){for(let s=r.length-1;s>=o;s--)"production"!==process.env.NODE_ENV&&(s>o||!t)&&e.warn&&e.warn(`tag <${r[s].tag}> has no matching end tag.`),e.end&&e.end(r[s].tag,n,a);r.length=o,l=o&&r[o-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,a):"p"===s&&(e.start&&e.start(t,[],!1,n,a),e.end&&e.end(t,n,a))}const r=[],o=e.expectHTML,s=e.isUnaryTag||no,c=e.canBeLeftOpenTag||no;let i,l,d=0;for(;t;){if(i=t,l&&isPlainTextElement(l)){let n=0;const r=l.toLowerCase(),o=reCache[r]||(reCache[r]=new RegExp("([\\s\\S]*?)(</"+r+"[^>]*>)","i")),s=t.replace(o,(t,a,o)=>(n=o.length,isPlainTextElement(r)||"noscript"===r||(a=a.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),shouldIgnoreFirstNewline(r,a)&&(a=a.slice(1)),e.chars&&e.chars(a),""));d+=t.length-s.length,t=s,a(r,d-n,d)}else{let i=t.indexOf("<");if(0===i){if(comment.test(t)){const a=t.indexOf("--\x3e");if(a>=0){e.shouldKeepComment&&e.comment(t.substring(4,a)),n(a+3);continue}}if(conditionalComment.test(t)){const e=t.indexOf("]>");if(e>=0){n(e+2);continue}}const i=t.match(doctype);if(i){n(i[0].length);continue}const g=t.match(endTag);if(g){const t=d;n(g[0].length),a(g[1],t,d);continue}const h=function(){const e=t.match(startTagOpen);if(e){const a={tagName:e[1],attrs:[],start:d};n(e[0].length);let r,o;for(;!(r=t.match(startTagClose))&&(o=t.match(attribute));)n(o[0].length),a.attrs.push(o);if(r)return a.unarySlash=r[1],n(r[0].length),a.end=d,a}}();if(h){!function(t){const n=t.tagName,i=t.unarySlash;o&&("p"===l&&isNonPhrasingTag(n)&&a(l),c(n)&&l===n&&a(n));const d=s(n)||!!i,g=t.attrs.length,h=new Array(g);for(let a=0;a<g;a++){const r=t.attrs[a];IS_REGEX_CAPTURING_BROKEN&&-1===r[0].indexOf('""')&&(""===r[3]&&delete r[3],""===r[4]&&delete r[4],""===r[5]&&delete r[5]);const o=r[3]||r[4]||r[5]||"",s="a"===n&&"href"===r[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[a]={name:r[1],value:decodeAttr(o,s)}}d||(r.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h}),l=n),e.start&&e.start(n,h,d,t.start,t.end)}(h),shouldIgnoreFirstNewline(l,t)&&n(1);continue}}let g,h,u;if(i>=0){for(h=t.slice(i);!(endTag.test(h)||startTagOpen.test(h)||comment.test(h)||conditionalComment.test(h)||(u=h.indexOf("<",1))<0);)i+=u,h=t.slice(i);g=t.substring(0,i),n(i)}i<0&&(g=t,t=""),e.chars&&g&&e.chars(g)}if(t===i){e.chars&&e.chars(t),"production"!==process.env.NODE_ENV&&!r.length&&e.warn&&e.warn(`Mal-formatted tag at end of template: "${t}"`);break}}a()}function parse(t){const e={tag:"root",attrs:[],unary:!1,start:0,contentStart:0,contentEnd:t.length,end:t.length,children:[],comments:[]},n=[e];let a=e;return parseHTML(t,{start:function(t,e,r,o,s){const c={tag:t,attrs:e,unary:r,start:o,contentStart:s,children:[]};a.children.push(c),n.push(c),a=c},end:function(t,e,r){n.pop(),a.contentEnd=e,a.end=r,a=n[n.length-1]}}),e}const no=()=>!1,isNonPhrasingTag=makeMap("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),attribute=/^\s*([^\s"'<>/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ncname="[a-zA-Z_][\\w\\-\\.]*",qnameCapture=`((?:${ncname}\\:)?${ncname})`,startTagOpen=new RegExp(`^<${qnameCapture}`),startTagClose=/^\s*(\/?)>/,endTag=new RegExp(`^<\\/${qnameCapture}[^>]*>`),doctype=/^<!DOCTYPE [^>]+>/i,comment=/^<!--/,conditionalComment=/^<!\[/;let IS_REGEX_CAPTURING_BROKEN=!1;"x".replace(/x(.)?/g,(t,e)=>{IS_REGEX_CAPTURING_BROKEN=""===e});const isPlainTextElement=makeMap("script,style,textarea",!0),reCache={},decodingMap={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t"},encodedAttr=/&(?:lt|gt|quot|amp);/g,encodedAttrWithNewLines=/&(?:lt|gt|quot|amp|#10|#9);/g,isIgnoreNewlineTag=makeMap("pre,textarea",!0),shouldIgnoreFirstNewline=(t,e)=>t&&isIgnoreNewlineTag(t)&&"\n"===e[0];var parserVue=parse;module.exports=parserVue;
